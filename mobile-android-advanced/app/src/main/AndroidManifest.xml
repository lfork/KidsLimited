<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          xmlns:tools="http://schemas.android.com/tools" package="com.lfork.phonelimitadvanced">

    <uses-permission android:name="android.permission.INTERNET"/>
    <!--<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />-->
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>

    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>

    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>

    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>

    <!-- Will be default in CyanogenMod Superuser App -->
    <uses-permission android:name="android.permission.ACCESS_SUPERUSER"/>

    <uses-permission android:name="android.permission.USE_FINGERPRINT"/>

    <!-- Screen support -->
    <supports-screens
            android:anyDensity="true"
            android:largeScreens="true"
            android:normalScreens="true"
            android:smallScreens="true"
            android:xlargeScreens="true"/>

    <application
            android:allowBackup="true"
            android:icon="@mipmap/ic_launcher"
            android:label="@string/app_name"
            android:roundIcon="@mipmap/ic_launcher_round"
            android:supportsRtl="true"
            android:largeHeap="true"
            android:theme="@style/AppTheme" tools:ignore="AllowBackup,GoogleAppIndexingWarning">

        <meta-data
                android:name="xposedmodule"
                android:value="true" />
        <meta-data
                android:name="xposeddescription"
                android:value="Xposed related fixes for AFWall+" />
        <meta-data
                android:name="xposedminversion"
                android:value="53" />

        <activity android:name=".main.MainActivity"
                  android:windowSoftInputMode="adjustNothing|stateHidden"
                  android:launchMode="singleInstance">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>

                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>

        <activity
                android:name="dev.ukanth.ufirewall.preferences.PreferencesActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout"
                android:hardwareAccelerated="true">
            <meta-data
                    android:name="android.support.PARENT_ACTIVITY"
                    android:value="dev.ukanth.ufirewall.MainActivity" />
        </activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.HelpActivity"
                android:configChanges="orientation|keyboardHidden|screenSize|locale"
                android:hardwareAccelerated="true"></activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.RulesActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout"></activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.ProfileActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout"></activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.AppDetailActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout">
            <meta-data
                    android:name="android.support.PARENT_ACTIVITY"
                    android:value="dev.ukanth.ufirewall.MainActivity" />
        </activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.LogActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout"></activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.OldLogActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout"></activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.LogDetailActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout"></activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.DataDumpActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout">
            <meta-data
                    android:name="android.support.PARENT_ACTIVITY"
                    android:value="dev.ukanth.ufirewall.MainActivity" />
        </activity>

        <!-- <activity android:name="dev.ukanth.ufirewall.AlertDialogActivity"/> -->

        <activity
                android:name="dev.ukanth.ufirewall.widget.ToggleWidgetActivity"
                android:launchMode="singleInstance"
                android:theme="@style/Theme.Transparent">
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_CONFIGURE" />
            </intent-filter>
        </activity>
        <activity
                android:name="dev.ukanth.ufirewall.widget.ToggleWidgetOldActivity"
                android:launchMode="singleInstance"
                android:theme="@style/Theme.Transparent">
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_CONFIGURE" />
            </intent-filter>
        </activity>
        <activity
                android:name="dev.ukanth.ufirewall.activity.CustomScriptActivity"
                android:configChanges="orientation|keyboardHidden|locale|screenLayout">
            <meta-data
                    android:name="android.support.PARENT_ACTIVITY"
                    android:value="dev.ukanth.ufirewall.MainActivity" />
        </activity>

        <!-- still will work in android 7 above -->
        <receiver android:name="dev.ukanth.ufirewall.broadcast.OnBootReceiver">
            <intent-filter android:priority="500">
                <action android:name="android.intent.action.BOOT_COMPLETED" />
                <action android:name="android.intent.action.QUICKBOOT_POWERON" />
                <action android:name="android.intent.action.MEDIA_MOUNTED" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </receiver>
        <service android:name="dev.ukanth.ufirewall.service.ApplyOnBootService" />


        <!--<receiver
            android:name=".broadcast.OnBootReceiver"
            android:enabled="true"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </receiver>

        <service android:name=".service.ApplyOnBootService" />-->

        <!--
                <receiver android:name=".broadcast.PackageBroadcast">
                    <intent-filter>
                        <action android:name="android.intent.action.PACKAGE_ADDED" />
                        <action android:name="android.intent.action.PACKAGE_REMOVED" />

                        <data android:scheme="package" />
                    </intent-filter>
                </receiver>


                <receiver android:name=".broadcast.ConnectivityChangeReceiver">
                    <intent-filter>
                        <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
                        <action android:name="android.net.wifi.WIFI_AP_STATE_CHANGED" />
                    </intent-filter>
                </receiver> -->

        <service
                android:name="dev.ukanth.ufirewall.service.FirewallService"
                android:launchMode="singleTop"
                android:exported="true" />

        <service
                android:name="dev.ukanth.ufirewall.service.ToggleTileService"
                android:icon="@drawable/notification_quest"
                android:label="@string/widget_label_status"
                android:permission="android.permission.BIND_QUICK_SETTINGS_TILE">
            <intent-filter>
                <action
                        android:name="android.service.quicksettings.action.QS_TILE"/>
            </intent-filter>
        </service>

        <receiver
                android:name="dev.ukanth.ufirewall.widget.StatusWidget"
                android:enabled="true"
                android:icon="@drawable/preview_toggle"
                android:label="@string/widget_label_status">
            <meta-data
                    android:name="android.appwidget.provider"
                    android:resource="@xml/onoff_widget" />

            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
                <action android:name="dev.ukanth.ufirewall.intent.action.STATUS_CHANGED" />
                <action android:name="dev.ukanth.ufirewall.intent.action.TOGGLE_REQUEST" />
            </intent-filter>
        </receiver>
        <receiver
                android:name="dev.ukanth.ufirewall.widget.ToggleWidget"
                android:icon="@drawable/preview_new"
                android:label="@string/widget_label_settings">
            <meta-data
                    android:name="android.appwidget.provider"
                    android:resource="@xml/toggle_widget" />

            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
                <action android:name="dev.ukanth.ufirewall.intent.action.STATUS_CHANGED" />
                <action android:name="dev.ukanth.ufirewall.intent.action.TOGGLE_REQUEST" />
            </intent-filter>
        </receiver>
        <receiver
                android:name="dev.ukanth.ufirewall.widget.ToggleWidgetOld"
                android:label="@string/widget_label_settings_old">
            <meta-data
                    android:name="android.appwidget.provider"
                    android:icon="@drawable/preview_old"
                    android:resource="@xml/toggle_widget_old" />

            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
                <action android:name="dev.ukanth.ufirewall.intent.action.STATUS_CHANGED" />
                <action android:name="dev.ukanth.ufirewall.intent.action.TOGGLE_REQUEST" />
            </intent-filter>
        </receiver>

        <activity
                android:name="haibison.android.lockpattern.LockPatternActivity"
                android:theme="@style/Alp_42447968.Theme.Dark"
                tools:replace="android:theme" />

        <!-- device admin -->
        <!-- This is required this receiver to become device admin component. -->

        <!-- <receiver
            android:name=".admin.AdminDeviceReceiver"
            android:permission="android.permission.BIND_DEVICE_ADMIN">
            <meta-data
                android:name="android.app.device_admin"
                android:resource="@xml/device_admin" />

            <intent-filter>

                <action android:name="android.app.action.DEVICE_ADMIN_ENABLED" />
                <action android:name="android.app.action.ACTION_DEVICE_ADMIN_DISABLE_REQUESTED" />
                <action android:name="android.app.action.ACTION_DEVICE_ADMIN_DISABLED" />
                <action android:name="android.app.action.DEVICE_ADMIN_DISABLED" />
            </intent-filter>
        </receiver> -->

        <!-- Tasker/Locale Plugin -->

        <activity
                android:name="dev.ukanth.ufirewall.plugin.LocaleEdit"
                android:exported="true"
                android:icon="@drawable/ic_launcher_free"
                android:label="@string/tasker_lable"
                android:uiOptions="splitActionBarWhenNarrow"
                android:windowSoftInputMode="adjustResize"
                tools:ignore="ExportedActivity">

            <!-- this Intent filter allows the plug-in to be discovered by Locale -->
            <intent-filter>
                <action android:name="com.twofortyfouram.locale.intent.action.EDIT_SETTING" />
            </intent-filter>
        </activity>

        <receiver
                android:name="dev.ukanth.ufirewall.plugin.FireReceiver"
                android:exported="true"
                tools:ignore="ExportedReceiver">

            <!-- this Intent filter allows the plug-in to discovered by Locale -->
            <intent-filter>
                <action android:name="com.twofortyfouram.locale.intent.action.FIRE_SETTING" />
            </intent-filter>
        </receiver>

        <service
                android:name="dev.ukanth.ufirewall.service.RootShellService"
                android:exported="false" />
        <service
                android:name="dev.ukanth.ufirewall.service.LogService"
                android:enabled="true"
                android:label="AFWallLogService" />

        <!-- Samsung MultiWindow Support -->
        <uses-library
                android:name="com.sec.android.app.multiwindow"
                android:required="false" />

        <meta-data
                android:name="com.sec.android.multiwindow.DEFAULT_SIZE_W"
                android:resource="@dimen/app_defaultsize_w" />
        <meta-data
                android:name="com.sec.android.multiwindow.DEFAULT_SIZE_H"
                android:resource="@dimen/app_defaultsize_h" />
        <meta-data
                android:name="com.sec.android.multiwindow.MINIMUM_SIZE_W"
                android:resource="@dimen/app_minimumsize_w" />
        <meta-data
                android:name="com.sec.android.multiwindow.MINIMUM_SIZE_H"
                android:resource="@dimen/app_minimumsize_h" />

        <provider
                android:name="dev.ukanth.ufirewall.preferences.ShareProfilePreference"
                android:authorities="${applicationId}"
                android:exported="true"></provider>

        <service
                android:name="dev.ukanth.ufirewall.service.RulesApplyService"
                android:exported="false" />


        <service
                android:name=".limit.LimitService"
                android:enabled="true"
                android:exported="true">

        </service>

    </application>


</manifest>